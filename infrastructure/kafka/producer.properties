# ============================================================
# Kafka Producer Configuration â€” Stadium Edge Gateway
# ============================================================
# Exactly-once semantics for the critical path from stadium to cloud.
# These settings prioritize durability and correctness over throughput.

# --- Exactly-Once Delivery ---
acks=all
enable.idempotence=true
max.in.flight.requests.per.connection=5
retries=2147483647
delivery.timeout.ms=120000

# --- Batching (latency/throughput tradeoff) ---
# 5ms linger: minimal batching, optimized for low latency
linger.ms=5
batch.size=16384

# --- Compression ---
# LZ4: fastest compression, good ratio for JSON/Avro payloads
compression.type=lz4

# --- Serialization ---
key.serializer=org.apache.kafka.common.serialization.StringSerializer
value.serializer=io.confluent.kafka.serializers.KafkaAvroSerializer

# --- Schema Registry ---
schema.registry.url=http://schema-registry:8081
auto.register.schemas=true
use.latest.version=false

# --- Connection ---
bootstrap.servers=kafka-1:9092,kafka-2:9092,kafka-3:9092
client.id=stadium-edge-gateway
request.timeout.ms=30000

# --- Monitoring ---
metric.reporters=io.confluent.metrics.reporter.ConfluentMetricsReporter
confluent.metrics.reporter.bootstrap.servers=kafka-1:9092
